<div class="row headtitle">
    <div class="col-md-9">
        <h4>Export Manager - Booking Tasks</h4>
    </div>
    <div class="col-md-3 alrt">
        <button type="button" class="btn btn-success btntop btn-raised bmd-btn-edit" [routerLink]="['/views/exportmanager/bookinglevel/bookinglevel']"><i class="material-icons editicon">reply</i><div class="ripple-container"></div></button>
    </div>
</div>

<div class="row">
    <div class="col-9">
        <div class="card m-b-30">
            <div class="card-body leftcard ">
                <div id="datatable-buttons_wrapper" class="dataTables_wrapper container-fluid dt-bootstrap4 no-footer">
                    <div class="row">
                        <div class="col-sm-12 cntralign">
                            <table id="datatable-buttons" class="table table-striped table-responsive table-bordered w-100 dataTable no-footer" role="grid" aria-describedby="datatable-buttons_info">
                                <thead>
                                    <tr role="row">
                                        <th class="actwid">
                                            S.No
                                        </th>
                                        <th>
                                            Booking
                                        </th>
                                        <th>
                                            Booking Party
                                        </th>
                                        <th>
                                            BOL
                                        </th>
                                        <th>
                                            Vessel
                                        </th>
                                        <th>
                                            Voyage
                                        </th>
                                        <th>
                                            ETD
                                        </th>
                                        <th>
                                            POL
                                        </th>
                                        <th>
                                            FPOD
                                        </th>
                                        <th>
                                            Sailed
                                        </th>
                                    </tr>
                                </thead>

                                <tbody>

                                    <tr *ngFor="let dataItem of pagedItems;let i = index">
                                        <td class="actwid"> {{ i + 1*pager.startIndex+1 }}</td>
                                        <td>
                                            <button class="btn btn-success bmd-btn-fab enqbtn" (click)="OnClickEdit(dataItem.ID)">{{dataItem.BookingNo}}</button>
                                        </td>

                                        <td>{{dataItem.BkgParty}}</td>
                                        <td>{{dataItem.BLNumber}}</td>
                                        <td>{{dataItem.VesselName}}</td>
                                        <td>{{dataItem.VoyageName}}</td>
                                        <td>{{dataItem.ETD}}</td>
                                        <td>{{dataItem.POL}}</td>
                                        <td>{{dataItem.POD}}</td>
                                        <td>{{dataItem.Sailed}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="row page" align="right">
                        <ul *ngIf="pager.pages && pager.pages.length && pager.totalItems > 10" class="pagination">
                            <li [ngClass]="{disabled:pager.currentPage === 1}">
                                <a (click)="setPage(1)">First</a>
                            </li>
                            <li [ngClass]="{disabled:pager.currentPage === 1}">
                                <a (click)="setPage(pager.currentPage - 1)">Previous</a>
                            </li>
                            <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
                                <a (click)="setPage(page)">{{page}}</a>
                            </li>
                            <li *ngIf="(pager.totalPages - pager.startPage) > 5 ">
                                <a (click)="setPage(pager.startPage + 5)">...</a>
                            </li>
                            <li *ngIf="(pager.totalPages - pager.startPage) > 5">
                                <a (click)="setPage(pager.totalPages)">{{pager.totalPages}}</a>
                            </li>

                            <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                                <a (click)="setPage(pager.currentPage + 1)">Next</a>
                            </li>
                            <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                                <a (click)="setPage(pager.totalPages)">Last</a>
                            </li>
                        </ul>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <form [formGroup]="searchForm">
            <div class="card m-b-30 sidesearch">
                <div class="card-body cpad">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group bmd-form-group">
                                <select class="form-control my-select" id="OfficeCode1" formControlName="OfficeCode">
                                    <option value="0">Office</option>
                                    <option *ngFor="let gRow of OfficeMasterAllvalues" [value]="gRow.ID">
                                        {{gRow.CustomerName}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group bmd-form-group">
                                <select class="form-control my-select" id="ddlBooking" formControlName="BookingID">
                                    <option value="0">Booking No</option>
                                    <option *ngFor="let gRow of dsBooking" [value]="gRow.ID">
                                        {{gRow.BookingNo}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group bmd-form-group">
                                <select class="form-control my-select" id="ddlBkgParty" formControlName="CustomerID">
                                    <option value="0">Booking Party</option>
                                    <option *ngFor="let gRow of dsBkgParty" [value]="gRow.ID">
                                        {{gRow.BkgParty}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group bmd-form-group">
                                <select class="form-control my-select" id="ddlBL" formControlName="BLID">
                                    <option value="0">BL No</option>
                                    <option *ngFor="let gRow of dsBOL" [value]="gRow.ID">
                                        {{gRow.BLNumber}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group bmd-form-group">
                                <select class="form-control my-select" id="ddlVslVoy" formControlName="VoyageID">
                                    <option value="0">Vessel/Voyage</option>
                                    <option *ngFor="let gRow of dsVoyage" [value]="gRow.ID">
                                        {{gRow.VoyageName}}
                                    </option>
                                </select>
                            </div>
                        </div>


                        <div class="col-md-4">
                            <div class="form-group bmd-form-group" style="font-size: 13px">
                                ETD From
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div class="form-group bmd-form-group">
                                <mat-form-field  class="tillDate">
                                    <input matInput (click)="ETDFrom.open()" readonly autocomplete="off" [matDatepicker]="ETDFrom"  id="ETDFrom" placeholder="ETD - From" formControlName="ETDFrom">
                                    <mat-datepicker-toggle matSuffix [for]="ETDFrom"></mat-datepicker-toggle>
                                    <mat-datepicker #ETDFrom></mat-datepicker>
                                </mat-form-field>

                                <!-- <input type="date" autocomplete="off" formControlName="ETDFrom" id="txtETDFrom" class="form-control" placeholder="ETD - From" /> -->
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group bmd-form-group" style="font-size: 13px">
                                ETD Till
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div class="form-group bmd-form-group">
                                <mat-form-field class="tillDate" >
                                    <input matInput (click)="ETDTo.open()" readonly autocomplete="off" [matDatepicker]="ETDTo"  id="ETDTo" placeholder="ETD - To" formControlName="ETDTo">
                                    <mat-datepicker-toggle matSuffix [for]="ETDTo"></mat-datepicker-toggle>
                                    <mat-datepicker #ETDTo></mat-datepicker>
                                </mat-form-field>
                                <!-- <input type="date" autocomplete="off" formControlName="ETDTo" id="txtETDTo" class="form-control" placeholder="ETD - To" /> -->
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group bmd-form-group">

                                <select class="form-control my-select" id="ddlPOL" formControlName="LoadPortID">
                                    <option value="0">POL</option>
                                    <option *ngFor="let gRow of dsPorts" [value]="gRow.ID">
                                        {{gRow.PortCode}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group bmd-form-group">
                                <select class="form-control my-select" id="ddlPOD" formControlName="DestinationID">
                                    <option value="0">Destination</option>
                                    <option *ngFor="let gRow of dsPorts" [value]="gRow.ID">
                                        {{gRow.PortCode}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group bmd-form-group">
                                <select class="form-control">
                                    <option value="0">Sailing Status</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group bmd-form-group">
                                <select class="form-control my-select" id="ddlUser" formControlName="SalesPersonID">
                                    <option value="0">Sales Person</option>
                                    <option *ngFor="let gRow of dsUserList" [value]="gRow.ID">
                                        {{gRow.UserName}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group bmd-form-group">
                                <select class="form-control my-select" id="ddlContainer" formControlName="CntrID">
                                    <option value="0">Container No</option>
                                    <option *ngFor="let gRow of dsCntrNos" [value]="gRow.ID">
                                        {{gRow.CntrNo}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group bmd-form-group">
                                <select class="form-control">
                                    <option value="0">Invoice Number</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-12 searchbtn alrt">
                            <button type="submit" (click)="onSubmit()" class="btn btn-primary btn-raised mb-0">Search<div class="ripple-container"></div></button>
                            <button type="submit" (click)="clearSearch()" class="btn btn-raised btn-danger mb-0">Clear<div class="ripple-container"></div></button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>