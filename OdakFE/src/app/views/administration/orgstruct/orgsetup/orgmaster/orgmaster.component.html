<div class="row headtitle">
    <div class="col-md-9">
        <h4>Organisation Master</h4>
    </div>
    <div class="col-md-3 alrt">
        <button type="button" class="btn btn-success bmd-btn-edit btn-raised btntop" [routerLink]="['/views/administration/orgstruct/orgsetup/orgmaster/orgmasterview']"><i class="material-icons editicon">reply</i><div class="ripple-container"></div></button>

    </div>
</div>

<div class="card">
    <div class="card-body ">
        <form [formGroup]="orgForm">
            <div class="row">
                <div class="col-md-12">
                    <h6 class="formhead">Company Details</h6>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-12">
                                <label class="str">Company Name</label>

                                <input type="text" id="txtOrgName" formControlName="OrgName" class="form-control ng-pristine ng-untouched ng-valid ng-empty">
                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-12">
                                <label class="str">Country</label>
                                <select class="form-control my-select" id="ddlCountry" formControlName="CountryID" (ngModelChange)="CountryChanged()">
                                    <option *ngFor="let gRow of dscountryItem" [value]="gRow.ID">
                                        {{gRow.CountryName}}
                                    </option>

                                </select>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-12">
                                <label class="str">Status</label>
                                <select class="form-control my-select" id="ddlStatus" formControlName="StatusID">
                                    <option *ngFor="let status of statusvalues" [value]="status.value">
                                        {{status.viewValue}}
                                    </option>
                                </select>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group bmd-form-group">
                        <div class="col-md-12 padlr0">
                            <label class="str">Address</label>
                            <textarea class="form-control ng-pristine ng-valid ng-empty ng-touched" autocomplete="off" formControlName="Address" id="txtLocAddress" rows="5" style="height:109px!important;"></textarea>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group bmd-form-group">
                                <div class="row">
                                    <div class="col-md-12">
                                        <label class="str">City</label>
                                        <select class="form-control my-select" id="ddlCity" formControlName="CityID">
                                            <option *ngFor="let gRow of dsCityItem" [value]="gRow.ID">
                                                {{gRow.CityName}}
                                            </option>

                                        </select>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group bmd-form-group">
                                <div class="row">
                                    <div class="col-md-12">
                                        <label>State</label>
                                        <select class="form-control my-select" id="ddlState" formControlName="StateID">
                                            <option *ngFor="let gRow of dsStateItem" [value]="gRow.ID">
                                                {{gRow.StateName}}
                                            </option>

                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group bmd-form-group">
                                <div class="row">
                                    <div class="col-md-12">
                                        <label class="str">Pin Code</label>
                                        <input type="number" id="txtPincode" formControlName="Pincode" autocomplete="off" class="form-control ng-pristine ng-untouched ng-valid ng-empty">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group bmd-form-group">
                                <div class="row">
                                    <div class="col-md-12">
                                        <label>Tax/GST Number</label>
                                        <input type="text" id="txtTanNo" formControlName="TaxGSTNo" autocomplete="off" class="form-control ng-pristine ng-untouched ng-valid ng-empty">
                                    </div>

                                </div>
                            </div>
                        </div>


                    </div>
                </div>

            </div>
        </form>

        <div class="col-md-12 padlr0" style="border-bottom:3px dashed #ccc; padding-bottom:4px;">
            <div class="row">
                <div class="col-md-12">
                    <h5 style="margin-bottom:7px; margin-top:-3px; font-size:15px;color: #636161; font-weight: 600;text-decoration: underline;">Division Details <span class="man">*</span></h5>
                </div>
                <div class="col-md-12 padlr0 tblparty">

                    <div *ngFor="let BT of dsDivision" class="chkvalues">

                        <label class="chkbox">
                            <input type="checkbox" id="chkDivision_{{BT.ID}}" [value]="BT.ID" ng-true-value="1" ng-false-value="0" [(ngModel)]="BT.IsTrue">
                            <!--<input type="checkbox">-->
                            {{BT.Division}}

                        </label>
                    </div>

                </div>
            </div>

        </div>

        <div class="divide30"></div>
        <div class="row" style="margin-top:20px;">
            <div id="datatable-buttons_wrapper" class="dataTables_wrapper container-fluid dt-bootstrap4 no-footer">
                <div class="row">
                    <div class="col-md-12">
                        <h6 class="formhead">Office Details</h6>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <table id="datatable-buttons" class="table table-striped table-bordered w-100 dataTable no-footer" role="grid" aria-describedby="datatable-buttons_info">
                            <thead>
                                <tr>
                                    <th>Region</th>
                                    <th>Office Location</th>
                                    <th>Sales Office</th>
                                    <th class="actwid">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let dynamic of dynamicArray; let i = index; let last=last;">

                                    <td>
                                        <!--<input [(ngModel)]="dynamicArray[i].title1" class="form-control" type="text" />-->
                                        <select class="form-control" [(ngModel)]="dynamicArray[i].RegionID" [ngModelOptions]="{standalone: true}">
                                            <option *ngFor="let gRow of dsRegionItem" [value]="gRow.ID">
                                                {{gRow.RegionName}}
                                            </option>

                                        </select>
                                    </td>
                                    <td>

                                        <select class="form-control" [(ngModel)]="dynamicArray[i].SalesOffLocID" [ngModelOptions]="{standalone: true}" (ngModelChange)="SalesLocChanged($event,i)">
                                            <option *ngFor="let gRow of dsSalesOffItem" [value]="gRow.ID">
                                                {{gRow.SalesOffLoc}}
                                            </option>
                                        </select>
                                    </td>
                                    <td>
                                        <input [(ngModel)]="dynamicArray[i].OfficeLoc" class="form-control" type="text" [ngModelOptions]="{standalone: true}" />



                                        <!--<select class="form-control" id="ddlTerminal{{i}}" [(ngModel)]="dynamicArray[i].SalesOffLocID" [ngModelOptions]="{standalone: true}">-->
                                        <!--<option *ngFor="let gRow of dsSalesOffItem" [value]="gRow.ID">
                                            {{gRow.SalesOffLoc}}
                                        </option>-->
                                        <!--</select>OfficeLoc-->
                                    </td>

                                    <td class="actwid">
                                        <button type="button" *ngIf="last" rel="tooltip" (click)="addRow(i)" class="btn btn-success bmd-btn-fab" data-original-title="" title="">
                                            <i class="material-icons">add</i>
                                        </button>
                                        <button type="button" *ngIf="!last" rel="tooltip" (click)="deleteRow(dynamicArray,i,dynamic.ID)" class="btn btn-danger bmd-btn-fab" data-original-title="" title="">
                                            <i class="material-icons">delete</i>
                                        </button>

                                    </td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
        <div class="card-footer " style="padding:0.75rem 0.25rem;">
            <div class="col-md-12 padlr0" style="text-align:right;">
                <button type="submit" (click)="OnSubmit()" class="btn btn-primary btn-raised mb-0">Submit</button>
            </div>

        </div>

    </div>
</div>

